<idea-plugin>
    <id>it.czerwinski.intellij.wavefront</id>
    <name>Wavefront OBJ</name>
    <vendor>Slawomir Czerwinski</vendor>
    <category>Languages</category>
    <resource-bundle>messages.WavefrontObjBundle</resource-bundle>

    <!-- Product and plugin compatibility requirements -->
    <!-- https://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html -->
    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">

        <!-- OBJ File Type -->
        <fileType
                name="Wavefront OBJ File"
                implementationClass="it.czerwinski.intellij.wavefront.lang.ObjFileType"
                fieldName="INSTANCE"
                language="Wavefront OBJ"
                extensions="obj"/>
        <lang.parserDefinition
                language="Wavefront OBJ"
                implementationClass="it.czerwinski.intellij.wavefront.lang.parser.ObjParserDefinition"/>
        <lang.syntaxHighlighter
                language="Wavefront OBJ"
                implementationClass="it.czerwinski.intellij.wavefront.lang.ObjSyntaxHighlighter"/>
        <annotator
                language="Wavefront OBJ"
                implementationClass="it.czerwinski.intellij.wavefront.lang.ObjAnnotator"/>
        <lang.foldingBuilder
                language="Wavefront OBJ"
                implementationClass="it.czerwinski.intellij.wavefront.lang.ObjFoldingBuilder"/>
        <lang.psiStructureViewFactory
                language="Wavefront OBJ"
                implementationClass="it.czerwinski.intellij.wavefront.lang.structure.ObjStructureViewFactory"/>
        <lang.formatter
                language="Wavefront OBJ"
                implementationClass="it.czerwinski.intellij.wavefront.lang.formatting.ObjFormattingModelBuilder"/>
        <lang.commenter
                language="Wavefront OBJ"
                implementationClass="it.czerwinski.intellij.wavefront.lang.ObjCommenter"/>
        <spellchecker.support
                language="Wavefront OBJ"
                implementationClass="com.intellij.spellchecker.tokenizer.SpellcheckingStrategy"/>

        <!-- Settings -->
        <colorSettingsPage
                implementation="it.czerwinski.intellij.wavefront.settings.ObjColorSettingsPage"/>
        <applicationService
                serviceImplementation="it.czerwinski.intellij.wavefront.settings.WavefrontObjSettingsState"/>
        <applicationConfigurable
                id="it.czerwinski.intellij.wavefront.settings.WavefrontObjSettingsConfigurable"
                groupId="language"
                instance="it.czerwinski.intellij.wavefront.settings.WavefrontObjSettingsConfigurable"/>

        <!-- Services -->
        <applicationService
                serviceImplementation="it.czerwinski.intellij.wavefront.services.WavefrontObjApplicationService"/>
        <projectService
                serviceImplementation="it.czerwinski.intellij.wavefront.services.WavefrontObjProjectService"/>

    </extensions>

    <projectListeners>

        <!-- Listeners -->
        <listener
                class="it.czerwinski.intellij.wavefront.listeners.WavefrontObjProjectManagerListener"
                topic="com.intellij.openapi.project.ProjectManagerListener"/>

    </projectListeners>

    <!-- Editor -->
    <extensions defaultExtensionNs="com.intellij">
        <fileEditorProvider
                implementation="it.czerwinski.intellij.wavefront.editor.ObjSplitEditorProvider"/>
    </extensions>

    <actions>
        <group
                id="ObjSplitEditor.Toolbar"
                class="com.intellij.openapi.actionSystem.DefaultActionGroup">
            <action
                    id="it.czerwinski.intellij.wavefront.editor.actions.TextOnlySplitLayoutAction"
                    class="it.czerwinski.intellij.wavefront.editor.actions.TextOnlySplitLayoutAction"
                    icon="AllIcons.General.LayoutEditorOnly">
            </action>
            <action
                    id="it.czerwinski.intellij.wavefront.editor.actions.TextAndPreviewSplitLayoutAction"
                    class="it.czerwinski.intellij.wavefront.editor.actions.TextAndPreviewSplitLayoutAction"
                    icon="AllIcons.General.LayoutEditorPreview">
            </action>
            <action
                    id="it.czerwinski.intellij.wavefront.editor.actions.PreviewOnlySplitLayoutAction"
                    class="it.czerwinski.intellij.wavefront.editor.actions.PreviewOnlySplitLayoutAction"
                    icon="AllIcons.General.LayoutPreviewOnly">
            </action>
        </group>
        <group
                id="ObjPreviewFileEditor.Toolbar"
                class="com.intellij.openapi.actionSystem.DefaultActionGroup">
            <action
                    id="it.czerwinski.intellij.wavefront.editor.actions.XUpVectorAction"
                    class="it.czerwinski.intellij.wavefront.editor.actions.XUpVectorAction"
                    icon="WavefrontObjIcons.X_UP_ACTION"/>
            <action
                    id="it.czerwinski.intellij.wavefront.editor.actions.YUpVectorAction"
                    class="it.czerwinski.intellij.wavefront.editor.actions.YUpVectorAction"
                    icon="WavefrontObjIcons.Y_UP_ACTION"/>
            <action
                    id="it.czerwinski.intellij.wavefront.editor.actions.ZUpVectorAction"
                    class="it.czerwinski.intellij.wavefront.editor.actions.ZUpVectorAction"
                    icon="WavefrontObjIcons.Z_UP_ACTION"/>
        </group>
    </actions>

</idea-plugin>
